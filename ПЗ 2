#include <iostream>
#include <conio.h>
#include <string>

using namespace std;

int main() {
	setlocale(LC_ALL, "Rus");
	int num = 0, number, out_base, rank = 0, pos;
	string in_base;
	char sys[25] = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 
		'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'L', 'M', 'N', 'O', 'P', 'Q'};
	cout << "Enter the number" << endl;
	cin >> number;
	cout << "Enter the numeral system of the entered number" << endl;
	cin >> in_base;
	cout << "Enter the number system you want to translate" << endl;
	cin >> out_base;
	cout << "The resulting number" << endl;
	if (number != 10) {
		int copy_number = 1;
		for (int i = in_base.size() - 1; i >= 0; i--) { 
			in_base[i] = (char)toupper(in_base[i]); 
			num += ((int)in_base[i] - ((int)in_base[i] < 61 ? 48 : 55)) * copy_number;
			copy_number *= number;
		}
	}
	if (out_base != 10) {
		int copy_out_base = 1; 
		int num_copy = num;
		while (num >= copy_out_base) {
			copy_out_base *= out_base;
			rank++;
		}
		copy_out_base /= out_base;
		rank--;
		for (int i = rank; i >= 0; i--) {
			pos = num_copy / copy_out_base;
			num_copy %= copy_out_base;
			copy_out_base /= out_base;
			cout << sys[pos];
		}
	}
	else
		cout << num;
	_getch();
	return 0;
} 
